# ABC- и XYZ-анализ данных аптечной сети
На основе данных аптечной сети: 

1. Провёл многомерный ABC-анализ по количеству проданных позиций, по прибыли с позиции и по выручке. 

2. Провёл XYZ-анализ ассортимента товаров со стабильным спросом. Для этого рассчитал как меняется объём продаж от периода к периоду. По каждой товарной группе определил коэффициент вариации, который показывает колебание спроса за отдельно взятый период. Коэффициент вариации - это стандартное отклонение * 100% / среднее. 

Если коэффициент вариации от 0% до 10% (не включительно) - то группа X, от 10% до 25% (не включительно) - то группа Y, если от 25% (включительно) - то группа Z.

В качестве периодов для расчёта при XYZ-анализе необходимо было взять недельные продажи. Чтобы определить группу товара, должно быть минимум 4 продажи этого товара в разные недели: например, если товар продавался 7 раз, но все в период и 10 по 15 марта 2022 года, то расчитать XYZ-группу мы не можем. А если он продался 4 раза, но все продажи были сделаны в разные недели, то определить группу мы сможем. 
Если группу для данного товара определить не получилось, то в итоговой таблице должен стоять NULL.

Итоговая таблица для ABC- и XYZ-анализа содержит следующие поля:
- название товара (product)
- ABC-группу товара по количеству (amount_abc)
- ABC-группу товара по прибыли (profit_abc)
- ABC-группу товара по выручке (revenue_abc)
- XYZ-группу товара (xyz_sales)

3. Визуализировал в Metabase итоговую таблицу с применением условного форматирования:
- Группы A/X - зеленый
- Группы B/Y - желтый
- Группы C/Z - красный
- Пропуски в столбце с XYZ анализом - без выделения цветом.


## Ссылка на итоговую таблицу в Metabase
[Ссылка на итоговую таблицу в Metabase](https://metabase.simulative.ru/question/48-abc-i-xyz-analiz-aptechnoj-set)

### Описание данных
Для расчетов использововалась таблица sales из БД сети аптек, а именно столбцы:

- dr_kol - количество проданного товара в данной строке чека
- dr_ndrugs - название товара
- dr_dat - дата чека
- dr_croz - розничная цена
- dr_czak - закупочная цена
- dr_sdisc - сумма скидки на всю строку чека (даже если dr_kol > 1, вычитать сумму скидки необходимо со строки чека, а не с каждой проданной позиции)
